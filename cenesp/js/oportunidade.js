!function(e){var a,t=function(){var e=document.createElement("input"),a="onpaste";return e.setAttribute(a,""),"function"==typeof e[a]?"paste":"input"}()+".mask",n=navigator.userAgent,o=/iphone/i.test(n),r=/android/i.test(n);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,a){var t;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(a="number"==typeof a?a:e,this.each((function(){this.setSelectionRange?this.setSelectionRange(e,a):this.createTextRange&&((t=this.createTextRange()).collapse(!0),t.moveEnd("character",a),t.moveStart("character",e),t.select())}))):(this[0].setSelectionRange?(e=this[0].selectionStart,a=this[0].selectionEnd):document.selection&&document.selection.createRange&&(t=document.selection.createRange(),e=0-t.duplicate().moveStart("character",-1e5),a=e+t.text.length),{begin:e,end:a})},unmask:function(){return this.trigger("unmask")},mask:function(n,i){var l,s,c,p,u;return!n&&this.length>0?e(this[0]).data(e.mask.dataName)():(i=e.extend({placeholder:e.mask.placeholder,completed:null},i),l=e.mask.definitions,s=[],c=u=n.length,p=null,e.each(n.split(""),(function(e,a){"?"==a?(u--,c=e):l[a]?(s.push(RegExp(l[a])),null===p&&(p=s.length-1)):s.push(null)})),this.trigger("unmask").each((function(){function d(e){for(;u>++e&&!s[e];);return e}function m(e,a){var t,n;if(!(0>e)){for(t=e,n=d(a);u>t;t++)if(s[t]){if(!(u>n&&s[t].test(b[n])))break;b[t]=b[n],b[n]=i.placeholder,n=d(n)}h(),v.caret(Math.max(p,e))}}function f(e,a){var t;for(t=e;a>t&&u>t;t++)s[t]&&(b[t]=i.placeholder)}function h(){v.val(b.join(""))}function g(e){var a,t,n=v.val(),o=-1;for(a=0,pos=0;u>a;a++)if(s[a]){for(b[a]=i.placeholder;pos++<n.length;)if(t=n.charAt(pos-1),s[a].test(t)){b[a]=t,o=a;break}if(pos>n.length)break}else b[a]===n.charAt(pos)&&a!==c&&(pos++,o=a);return e?h():c>o+1?(v.val(""),f(0,u)):(h(),v.val(v.val().substring(0,o+1))),c?a:p}var v=e(this),b=e.map(n.split(""),(function(e){return"?"!=e?l[e]?i.placeholder:e:void 0})),k=v.val();v.data(e.mask.dataName,(function(){return e.map(b,(function(e,a){return s[a]&&e!=i.placeholder?e:null})).join("")})),v.attr("readonly")||v.one("unmask",(function(){v.unbind(".mask").removeData(e.mask.dataName)})).bind("focus.mask",(function(){var e;clearTimeout(a),k=v.val(),e=g(),a=setTimeout((function(){h(),e==n.length?v.caret(0,e):v.caret(e)}),10)})).bind("blur.mask",(function(){g(),v.val()!=k&&v.change()})).bind("keydown.mask",(function(e){var a,t,n,r=e.which;8===r||46===r||o&&127===r?(t=(a=v.caret()).begin,0==(n=a.end)-t&&(t=46!==r?function(e){for(;--e>=0&&!s[e];);return e}(t):n=d(t-1),n=46===r?d(n):n),f(t,n),m(t,n-1),e.preventDefault()):27==r&&(v.val(k),v.caret(0,g()),e.preventDefault())})).bind("keypress.mask",(function(a){var t,n,o,l=a.which,c=v.caret();a.ctrlKey||a.altKey||a.metaKey||32>l||l&&(0!=c.end-c.begin&&(f(c.begin,c.end),m(c.begin,c.end-1)),t=d(c.begin-1),u>t&&(n=String.fromCharCode(l),s[t].test(n)&&(function(e){var a,t,n,o;for(a=e,t=i.placeholder;u>a;a++)if(s[a]){if(n=d(a),o=b[a],b[a]=t,!(u>n&&s[n].test(o)))break;t=o}}(t),b[t]=n,h(),o=d(t),r?setTimeout(e.proxy(e.fn.caret,v,o),0):v.caret(o),i.completed&&o>=u&&i.completed.call(v))),a.preventDefault())})).bind(t,(function(){setTimeout((function(){var e=g(!0);v.caret(e),i.completed&&e==v.val().length&&i.completed.call(v)}),0)})),g()})))}})}(jQuery),$((function(e){e("input[name=tk]").val(shopping_token),e.getJSON(apis.oportunidade+"?tk="+shopping_token+"&tp=0",null,(function(a){e.each(a,(function(){e("[name=area]").append("<option value='"+this.id+"'>"+this.area+"</option>")}))})),e.getJSON(apis.oportunidade+"?tk="+shopping_token+"&tp=1",null,(function(a){a.length?(e.each(a,(function(){loja="Shopping"==this.loja?"Shopping":this.loja.substr(0,this.loja.indexOf("(")-1),quantidade=parseInt(this.quantidade)>1?this.quantidade+" Vagas":"1 Vaga";var a=this.loja.split(" (")[0];e(".vagas ul").append('<li class="swiper-slide">'+(this.loja_logo_url?'+<img src="'+this.loja_logo_url+'" alt="'+a+'">':'<h5 class="alt-font font-weight-600 text-extra-dark-gray">'+a.toLowerCase()+"</h5>")+'<p class="mb-4"><b>Cargo:</b> '+this.cargo+"<br><b>Quantidade:</b> "+this.quantidade+"<br><br><b>Descrição:</b><br>"+this.descricao+'</p><button name="submit" id="'+this.id+'" class="btn btn-medium btn-gradient-light-purple-light-orange mb-0 submit mt-4">Candidatar-se</button></li>')})),e(".vagas ul li").on("click","button",(function(){var a=e(this).attr("id"),t=e(this).parents("li").find("h5").text();e('[name="loja"]').length<=0&&e('<div class="col-xl-6"><div class="box-submit"><input type="text" class="medium-input bg-white margin-20px-bottom" name="loja" value="Loja '+t+'" readonly /><i class="fas fa-times close-alert close-loja"></i></div></div>').insertBefore(e('[name="nome"]').parents(".col-xl-6")),e('[name="vaga"], [name="vaga_id"]').val(a),e('[name="tp"]').val(1),e('[name="area"]').parents(".col-xl-6").hide(),e("html, body").animate({scrollTop:e(".form_contato").offset().top-200},500)})),e("form").on("click",".close-loja",(function(){e(this).parents(".col-xl-6").remove(),e('[name="vaga"], [name="vaga_id"]').val(""),e('[name="tp"]').val(2),e('[name="area"]').parents(".col-xl-6").show()}))):(e(".vagas").remove(),e(".vagas_qtd").show())})),e(".curriculo").on("click",(function(){e(".anexo").fadeIn(1e3,"easeInOutExpo")})),e(".anexo .fechar").on("click",(function(){e(".anexo").fadeOut(500,"easeInOutExpo")}));e(".bt_curriculo").on("click",(function(a){e("#div_formulario").slideDown("fast")})),e("#oportunidade_form").submit((function(a){a.stopPropagation(),a.preventDefault();var t=e("#area").val(),n=e("[name=nome]").val().trim(),o=e("[name=email]").val().trim(),r=e("[name=cpf]").val().trim(),i=e("[name=anexo]")[0].files[0];if(!i)return alert("Escolha o seu Currículo"),!1;var l=i.type,s=i.size;if(!grecaptcha.getResponse())return alert("Preencha o reCaptcha"),!1;if(!n)return alert("Preencha o nome"),!1;if(!t)return alert("Preencha a Área"),!1;if(!o)return alert("Preencha o email"),!1;if(!function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(o))return alert("Preencha um e-mail válido"),!1;if(!r)return alert("Preencha o CPF"),!1;if(!function(e){var a,t=e.replace(/[\.-]/g,""),n=0;if("00000000000"==t||"11111111111"==t||"22222222222"==t||"33333333333"==t||"44444444444"==t||"55555555555"==t||"66666666666"==t||"77777777777"==t||"88888888888"==t||"99999999999"==t)return!1;for(var o=1;o<=9;o++)n+=parseInt(t.substring(o-1,o))*(11-o);if(10!=(a=10*n%11)&&11!=a||(a=0),a!=parseInt(t.substring(9,10)))return!1;for(n=0,o=1;o<=10;o++)n+=parseInt(t.substring(o-1,o))*(12-o);return 10!=(a=10*n%11)&&11!=a||(a=0),a==parseInt(t.substring(10,11))}(r))return alert("Preencha um CPF válido"),!1;if("application/msword"!==l&&"application/vnd.openxmlformats-officedocument.wordprocessingml.document"!==l&&"image/jpeg"!==l&&"application/pdf"!==l)return alert("O anexo deve ser um arquivo do tipo .doc, .docx, .jpg ou .pdf"),!1;if(s<5120||s>2097152)return alert("O anexo deve ter um tamanho entre 5KB e 2MB"),!1;{e("#oportunidade_form").prop("disabled",!0);const a=new FormData;a.append("tk",shopping_token),a.append("cliente",""),a.append("tp",""),a.append("nome",n),a.append("email",o),a.append("cpf",r),a.append("nascimento",""),a.append("sexo",""),a.append("escolaridade",""),a.append("cidade",""),a.append("estado",""),a.append("telefone1",""),a.append("telefone2",""),a.append("cargo",""),a.append("observacao",""),a.append("anexo",e("[name=anexo]")[0].files[0]),a.append("area",t),a.append("vaga",""),a.append("sendmail",1),a.append("reply",1);const i={data:a,async:!0,crossDomain:!0,url:apis.trabalhe_conosco_action+"?api_token="+shopping_id,method:"POST",headers:{Accept:"application/json"},processData:!1,contentType:!1,mimeType:"multipart/form-data"};e.ajax(i).done((function(a){return e("#oportunidade_form")[0].reset(),e("#oportunidade_form").prop("disabled",!1),alert("Currículo cadastrado com sucesso!"),!0})).fail((function(a,t,n){return e("#oportunidade_form").prop("disabled",!1),alert("Erro ao enviar a mensagem, por favor tente mais tarde."),!1}))}})),e(".vagas").on("click","li button",(function(){loja=e(this).parents("li").find("h2").text(),vaga=e(this).parents("li").find(".cargo").text(),e("#trabalhe_conosco").find("[name=area]").val(loja+" - "+vaga)})),e('input[type="file"]').on("change",(function(a,t,n){var o=this.value.replace(/\\/g,"/").replace(/.*\//,"");e("label.anexo span").html(o)})),e.mask.definitions.t="[0-9-]",e('[name="telefone"]').mask("(99) tttt-tttt?t",{placeholder:"_"}),e('[name="cpf"]').mask("ttt.ttt.ttt-tt",{placeholder:"_"})}));